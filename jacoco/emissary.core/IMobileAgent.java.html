<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>IMobileAgent.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Emissary</a> &gt; <a href="index.source.html" class="el_package">emissary.core</a> &gt; <span class="el_source">IMobileAgent.java</span></div><h1>IMobileAgent.java</h1><pre class="source lang-java linenums">package emissary.core;

import emissary.directory.DirectoryEntry;
import emissary.place.IServiceProviderPlace;

import java.io.Serializable;
import java.util.List;

/**
 * Interface to the MobileAgent
 */
public interface IMobileAgent extends Serializable, Runnable {
    /**
     * Return the unique agent id
     */
    String agentId();

    /**
     * Get a reference to the payload this agent is responsible for
     */
    IBaseDataObject getPayload();

    /**
     * Send an agent on its way with the specified payload The payload is not processed at sourcePlace, source is only used
     * to get directory access to figure out where to go next.
     * 
     * @param payload the payload IBaseDataObject or list thereof
     * @param sourcePlace the place sending the payload the key of this place will be added to the transform history but the
     *        payload will not be processed here
     */
    void go(Object payload, IServiceProviderPlace sourcePlace);

    /**
     * Arriving payload assigned to an agent for process at arrivalPlace
     * 
     * @param payload the payload IBaseDataObject or list thereof
     * @param arrivalPlace the place to begin processing the payload has already been added to the transform history by the
     *        sender
     * @param mec the move error count to update the agent's state
     * @param iq the list of DirectoryEntry stored itinerary steps if any
     */
    void arrive(Object payload, IServiceProviderPlace arrivalPlace, int mec, List&lt;DirectoryEntry&gt; iq)
            throws Exception;

    /**
     * Retrieve the current move error count
     */
    int getMoveErrorCount();

    /**
     * Retreive the current list of stored itinerary steps
     * 
     * @return array of DirectoryEntry
     */
    @SuppressWarnings(&quot;AvoidObjectArrays&quot;)
    DirectoryEntry[] getItineraryQueueItems();

    /**
     * Return true if agent is working on a payload
     */
    boolean isInUse();

    /**
     * Get the payload as an object for serialization during transport.
     *
     */
    Object getPayloadForTransport();

    /**
     * Get the name of the current payload
     */
    String getName();

    /**
     * get the name of the last place processed.
     */
    String getLastPlaceProcessed();

    /**
     * Call this method to permanently stop the running thread when we finish what we are doing
     */
    void killAgent();

    /**
     * Call this method to permanently stop the running thread eventually Returns immediately
     */
    void killAgentAsync();

    /**
     * Determine if this agent is walking un-dead
     */
    boolean isZombie();

    /**
     * Interrupte the agent's thread
     */
    void interrupt();

    /**
     * Get the number of move errors
     */
    int getMaxMoveErrors();

    /**
     * Set the maximum number of move attempts that can error out before this instance will quit trying and set the workflow
     * to be an ERROR condition
     * 
     * @param value the maximum number of move failures
     */
    void setMaxMoveErrors(int value);

    /**
     * Get the maximum number of itinerary steps
     */
    int getMaxItinerarySteps();

    /**
     * Set the maximum number of itinerary steps before this instance will turn the workflow into an ERROR condition
     * 
     * @param value the new maximum number of steps
     */
    void setMaxItinerarySteps(int value);

    /**
     * Returns the current payload count of the agent.
     * 
     * @return default value of 1
     */
    default int payloadCount() {
<span class="fc" id="L130">        return 1;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>